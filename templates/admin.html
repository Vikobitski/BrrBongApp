<!DOCTYPE html>
<html>
<head>
  <title>Admin Panel</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/jquery-bracket@0.11.1/dist/jquery.bracket.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.4/dist/jquery.min.js"></script>   <script src="https://cdn.jsdelivr.net/npm/jquery-bracket@0.11.1/dist/jquery.bracket.min.js"></script>

</head>
<body class="bg-dark text-light p-4">
  <h1>Bierpong Admin 🧑‍💻</h1>
  <a href="/">🏠 Home</a> | <a href="/bracket">Bracket</a> | <a href="/logout">Logout</a>

  <hr>

  <form method="POST" class="mb-4">
    <label>Max Teams:</label>
    <input type="number" name="max_teams" value="{{ max_teams }}" min="2" step="2">
    <button name="set_limit" class="btn btn-warning btn-sm">Set Limit</button>
  </form>

  <form method="POST" class="mb-4">
    <label>Game Mode:</label>
    <select name="mode">
      <option value="ko" {% if mode=="ko" %}selected{% endif %}>Single Elimination</option>
      <option value="round_robin" {% if mode=="round_robin" %}selected{% endif %}>Round Robin</option>
      <option value="random" {% if mode=="random" %}selected{% endif %}>Random Matchups</option>
    </select>
    <button type="submit" class="btn btn-info btn-sm">Save Mode</button>
  </form>

  <h3>Registered Teams ({{ teams|length }}/{{ max_teams }})</h3>
  <ol>
    {% for t in teams %}
      <li>{{ t.team }} – {{ t.players[0] }} & {{ t.players[1] }}
        <button name="remove_team" value="{{ loop.index0 }}" formmethod="POST" class="btn btn-danger btn-sm">Remove</button>
      </li>
    {% endfor %}
  </ol>

  <h3>Warteliste ({{ waitlist|length }})</h3>
  <ul>
    {% for w in waitlist %}
      <li>{{ w.team }} – {{ w.players[0] }} & {{ w.players[1] }}</li>
    {% endfor %}
  </ul>

  <h4>Add Team Manually</h4>
  <form method="POST">
    Teamname: <input name="team" required>
    Player 1: <input name="player1" required>
    Player 2: <input name="player2" required>
    <button name="add_team" class="btn btn-success btn-sm">Add</button>
  </form>
</body>
</html>